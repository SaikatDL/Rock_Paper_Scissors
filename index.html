<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Rock Papers Scissors</title>
    </head>
    <body>
        <script>
            function getComputerChoice() {
                let randomNumber = Math.floor(Math.random() * 3) +1;
                if (randomNumber === 1) {
                    return "Rock";
                } else if (randomNumber === 2) {
                    return "Paper";
                } else if (randomNumber === 3) {
                    return "Scissors";
                }
            }

            function playRound(playerSelection, computerSelection) {
                let caseInsensitive = playerSelection.toUpperCase();
                if (caseInsensitive === "ROCK" && computerSelection === "Paper") {
                    return "You lose!";
                } else if (caseInsensitive === "PAPER" && computerSelection === "Rock") {
                    return "You win!";
                } else if (caseInsensitive === "PAPER" && computerSelection === "Scissors") {
                    return "You lose!";
                } else if (caseInsensitive === "SCISSORS" && computerSelection === "paper") {
                    return "You win!";
                } else if (caseInsensitive === "ROCK" && computerSelection === "Scissors") {
                    return "You win!";
                } else if (caseInsensitive === "SCISSORS" && computerSelection === "Rock") {
                    return "You lose!";
                } else if (caseInsensitive === "ROCK" && computerSelection === "Rock" || caseInsensitive === "PAPER" && computerSelection === "Paper" || caseInsensitive ==="SCISSORS" && computerSelection === "Scissors") {
                    return "It's a tie";
                } else {
                    return "Error! Please choose 'Rock', 'Paper' or 'Scissors'";
                }
            }
            let playerScore = 0;
            let computerScore = 0;
            let draw = 0;
            function game() {
                for (let i = 0; i < 5; i++) {
                    let playerSelection = prompt("Pick your move");
                    let computerSelection = getComputerChoice();
                    let result = playRound(playerSelection, computerSelection);
                    console.log(result);
                    let gameResult = result;

                    if (gameResult === "You win!") {
                        playerScore++;
                    } else if (gameResult === "You lose!") {
                        computerScore++;
                    } else if (gameResult === "It's a tie") {
                        draw++;
                    }

                   console.log(playerScore, computerScore)
                }
                if (playerScore > computerScore) {
                        return "You win the game!";
                    } else if (computerScore > playerScore) {
                        return "You lose! Better luck next time.";
                    } else if (playerScore === computerScore) {
                        return "It's a draw!"
                    }
            }
        </script>
    </body>
</html>